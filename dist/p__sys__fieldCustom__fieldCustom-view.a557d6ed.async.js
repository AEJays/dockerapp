(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[110],{"/KSA":function(e){e.exports=JSON.parse('{"pageName":{"table":"\u81ea\u5b9a\u4e49\u5b57\u6bb5","new":"","edit":""},"listAPI":"/api/eav/entities?entityType=EXPAND_FORM","createAPI":"","getAPI":"/api/eav/entities/[id]","updateAPI":"/api/[id]","deleteAPI":"/api/eav/entities/(id)","columns":1,"createFields":[{"label":"\u7c7b\u522b\u540d\u79f0","rules":[{"type":"required"}],"props":{"placeholder":"\u8bf7\u8f93\u5165"},"type":"input","field":"name"},{"label":"","type":"hidden","field":"identifier"}],"updateFields":[{"label":"\u7c7b\u522b\u540d\u79f0","rules":[{"type":"required"}],"props":{"placeholder":"\u8bf7\u8f93\u5165"},"type":"input","field":"name"},{"label":"","type":"hidden","field":"identifier"}],"map":{},"layout":{"table":"Content","form":"TitleContent"},"tableActions":[],"tableOperation":[{"title":"\u7f16\u8f91\u5b57\u6bb5","type":"path","options":{"outside":true,"path":"fieldCustom/fieldCustom-editField"}},{"title":"\u5220\u9664","type":"delete","options":{"outside":false},"expect":{"permission":""}}],"searchFields":[{"label":"\u8868\u5355\u540d\u5b57","field":"name","type":"input","props":{"placeholder":""}}],"tableFields":[{"label":"\u8868\u5355\u540d\u5b57","field":"name"},{"label":"\u5907\u6ce8","field":"note"}],"viewConfig":[{"title":"\u8be6\u60c5","type":"plain","fields":[{"label":"\u8868\u5355\u540d\u5b57","field":"name"},{"label":"\u6807\u8bc6","field":"entityName"},{"label":"\u8868\u540d","field":"tableName"},{"label":"\u5907\u6ce8","field":"note"}]}]}')},"8yeI":function(e,a,t){"use strict";t.r(a);var l=t("q1tI"),n=t.n(l),i=t("AyJi"),r=t("/KSA");a["default"]=()=>n.a.createElement(i["a"],{namespace:"fieldCustom_view",setting:r,config:r.viewConfig})},AyJi:function(e,a,t){"use strict";var l=t("IIKO"),n=t("SIvP"),i=t("k16G"),r=t("q1tI"),c=t.n(r),m=t("uuO6"),s=(t("Mdr6"),m["Flex"].FlexItem),o=function(e){var a=e.title,t=e.children,l=c.a.Children.toArray(t),n=Object(i["a"])(l,2),r=n[0],o=n[1];return c.a.createElement("div",{className:"c-Card"},c.a.createElement(m["Flex"],{className:"content"},c.a.createElement(s,null,c.a.createElement("div",{className:"title"},a)),c.a.createElement("div",{className:"fill"}),c.a.createElement(s,{flex:1},o)),r)},d=t("G1nR"),u=t("GG5U"),p=t("Pm34"),f=t.n(p),v=t("8Skl"),E=(t("T65D"),m["Flex"].FlexItem);function b(e){var a=e.title,t=e.defaultCollapse,l=void 0!==t&&t,n=e.collapseIcon,s=void 0===n||n,o=e.delayed,d=void 0!==o&&o,u=e.children,p=Object(r["useState"])(l),f=Object(i["a"])(p,2),b=f[0],g=f[1],O=Object(r["useReducer"])(e=>e+1,0),y=Object(i["a"])(O,2),j=y[0],I=y[1],A=Object(r["useRef"])(null),h=Object(r["useRef"])(void 0),x=Object(r["useMemo"])(e=>b?[{height:0,padding:0},{transform:"rotate(180deg)"}]:[{height:h.current,padding:void 0},{transform:void 0}],[b,j]),F=Object(i["a"])(x,2),N=F[0],P=F[1];function D(){b||(h.current=A.current.clientHeight),g(!b)}return Object(r["useEffect"])(e=>{b||setTimeout(e=>{h.current=void 0,I()},200)},[b]),c.a.createElement("div",{className:"ZEleA-Panel"},c.a.createElement(m["Flex"],{className:"ZEleA-Panel-title"},s?c.a.createElement(E,{className:"ZEleA-Panel-icon",onClick:D,style:P},c.a.createElement(v["a"],{type:"down"})):null,c.a.createElement(E,{flex:1},c.a.createElement("div",null,a))),c.a.createElement("div",{className:"ZEleA-Panel-content",ref:A,style:N},d?!b&&u:u))}var g=t("sB9r"),O=t("D4a5"),y=m["Flex"].FlexItem,j=function(e){var a=e.data,t=e.indexData,l=e.operation,n=e.format;return c.a.createElement(m["Flex"],null,a.image?c.a.createElement(y,null,c.a.createElement(g["a"],{width:85,height:100,border:!0,value:a.image})):c.a.createElement(c.a.Fragment,null),c.a.createElement(y,{className:"padding-left",flex:1},c.a.createElement("div",{className:"list"},a.imageTitle?c.a.createElement("div",null,c.a.createElement("span",{className:"weight"},a.imageTitle)):c.a.createElement(c.a.Fragment,null),c.a.createElement(O["Render"],{n:"plain",data:t,options:{format:n},handle:{}}))),c.a.createElement(y,null,c.a.createElement("div",null,l)))},I=t("5zUa"),A=t("Nbnn"),h=t("cIDR"),x=m["Flex"].FlexItem,F=function(e){var a=e.data,t=void 0===a?{}:a,l=e.map,n=void 0===l?{}:l,i=e.namespace,s=e.operation,o=e.format,d=e.handle,u=e.index,p=Object(h["useModel"])(i),f=Object(r["useMemo"])(e=>Array.isArray(s)?Object(A["a"])([],s,d,{namespace:i,model:p}).columns[0].render:e=>null,[s]),v={title:Object(I["formatAPI"])(n.title,{namespace:i,data:t}),subTitle:Object(I["formatAPI"])(n.subTitle,{namespace:i,data:t}),image:Object(I["formatAPI"])(n.image,{namespace:i,data:t}),imageTitle:Object(I["formatAPI"])(n.imageTitle,{namespace:i,data:t})};return c.a.createElement(b,{collapseIcon:!1,title:c.a.createElement(m["Flex"],null,c.a.createElement(x,null,v.title),c.a.createElement(x,{flex:1,className:"padding-left weight-400"},v.subTitle))},c.a.createElement(j,{data:v,indexData:{text:"",record:t,index:u,type:""},format:o,operation:f("",u,t)}))};t("qYX+");function N(e){var a=e.data,t=e.field,l=e.map,n=e.namespace,i=e.api,r=e.operation,m=e.format,s={items:[{component:"ItemList",config:{API:{listAPI:i},fields:[]}}]},o=a&&t?a[t]:void 0;return c.a.createElement("div",{className:"c-ImageCardList"},c.a.createElement(f.a,{namespace:n,config:s,operation:r,format:m,map:l,Item:F,data:o,pagination:!Boolean(o)}))}t("T2oS");var P=t("W9HT"),D=t("lIdm"),T=(t("a6mf"),function(e){var a=e.api,t=e.fieldsMap,l=void 0===t?{}:t,n=e.children,m=Object(r["useState"])([]),s=Object(i["a"])(m,2),o=s[0],d=s[1],u=Object(r["useState"])(!1),p=Object(i["a"])(u,2),f=p[0],v=p[1],E=l.status,b=void 0===E?{}:E,g=b.map,O=void 0===g?{}:g;return Object(r["useEffect"])(e=>{v(!0),Object(D["b"])(Object(I["formatAPI"])(a,{})).then(e=>{d(e)}).finally(e=>v(!1))},[a]),c.a.createElement(P["a"],{spinning:f},c.a.createElement("div",{className:"list Details-statusList"},o.map((e,a)=>c.a.createElement("div",{className:"time",key:a},c.a.createElement("div",{className:"label"},O[e.status]||e.status),c.a.createElement("div",{className:"value"},c.a.createElement("pre",null,e.note))))),n)}),w=(t("XEnU"),t("0al3"),t("45dX"));t("LvDl");function k(e){var a=e.namespace,t=e.API,l=e.col,n=void 0===l?2:l,r=(e.data,e.loading,e.label),m=e.span,s=void 0===m?12:m;console.log("preview data = ",e.data);var o=Object(u["a"])(a,t),d=Object(i["a"])(o,2);d[0],d[1];return c.a.createElement(w["Render"],{n:"Grid",value:Array(n).fill(~~(24/n))},c.a.createElement("div",{key:"preview_file_index",span:s,className:"Details-item"},r?c.a.createElement("div",{className:"Details-labelTitle"},r," :"):null,c.a.createElement("div",null,"TODO \u5bf9\u63a5\u9884\u89c8\u7ec4\u4ef6")))}var C=m["Flex"].FlexItem,R={plain:d["a"],cardList:N,statusLog:T,previewFile:k};a["a"]=function(e){var a=e.namespace,t=e.setting,l=e.config,n=Object(u["a"])(a,t.getAPI),r=Object(i["a"])(n,2),s=r[0],o=r[1],d=l.left,p=void 0===d?[]:d,f=l.right,v=void 0===f?[]:f,E={loading:o,fieldsMap:t.map,col:t.columns,data:s};return c.a.createElement(m["Flex"],{align:"flex-start"},p.length>0?c.a.createElement(C,{flex:1},p.map(e=>G(a,e,E)),c.a.createElement("br",null),c.a.createElement("br",null)):c.a.createElement(c.a.Fragment,null),v.length>0?c.a.createElement(C,{className:"Details-other"},v.map(e=>G(a,e,E))):c.a.createElement(c.a.Fragment,null),Array.isArray(l)&&l.length>0?c.a.createElement(C,{flex:1},l.map(e=>(e.fields=s.layoutJson?s.layoutJson:e.fields,G(a,e,E))),c.a.createElement("br",null),c.a.createElement("br",null)):c.a.createElement(c.a.Fragment,null))};function G(e,a,t){var i=a.title,m=a.type,s=Object(n["a"])(a,["title","type"]),d=R[m];return d?c.a.createElement(r["Fragment"],{key:"".concat(i,"-").concat(m)},c.a.createElement(o,{title:i},c.a.createElement(d,Object(l["a"])({},t,s,{namespace:e})))):"\u672a\u77e5\u7684 view type: ".concat(m)}},G1nR:function(e,a,t){"use strict";t.d(a,"a",(function(){return b}));var l=t("XEnU"),n=t("SIvP"),i=(t("T2oS"),t("W9HT")),r=(t("+L6B"),t("2/Rp")),c=t("k16G"),m=t("q1tI"),s=t.n(m),o=(t("Pm34"),t("Rrod")),d=t.n(o),u=t("GG5U"),p=t("0al3"),f=t("45dX"),v=(t("a6mf"),t("LvDl")),E=t.n(v);function b(e){var a=e.namespace,t=e.API,l=e.col,n=void 0===l?2:l,m=e.fields,o=void 0===m?[]:m,p=e.fieldsMap,v=void 0===p?{}:p,E=e.goBack,b=void 0!==E&&E,O=e.data,y=e.loading,j=Object(u["a"])(a,t),I=Object(c["a"])(j,2),A=I[0],h=I[1],x=O||A;return s.a.createElement(i["a"],{spinning:y||h},b&&d.a.goBack?s.a.createElement(s.a.Fragment,null,s.a.createElement(r["a"],{onClick:d.a.goBack},"\u8fd4\u56de")):null,s.a.createElement(f["Render"],{n:"Grid",value:Array(n).fill(~~(24/n))},o.map((e,a)=>{var t=e.label;return s.a.createElement("div",{key:a,span:e.span,className:"Details-item"},t?s.a.createElement("div",{className:"Details-labelTitle"},t," :"):null,g(x,e,v))})))}function g(e,a,t){var i=a.field,r=a.options,c=Object(n["a"])(a,["field","options"]),m=Object(l["a"])(Object(l["a"])({},r),c);return t&&t[i]&&(m.map=t[i].map),s.a.createElement(p["Render"],{n:"plain",className:"Details-valueContainer",options:m,value:E.a.get(e,i),formdata:e})}},GG5U:function(e,a,t){"use strict";t.d(a,"a",(function(){return i}));var l=t("cIDR"),n=t("1cYI");function i(e,a){var t=Object(l["useModel"])({namespace:e}),i=t.formData,r=void 0===i?{}:i,c=t.loading;function m(){a&&t.fetchOne({API:a})}function s(){}return Object(n["useDidMount"])(m),Object(n["useWillUnmount"])(s),[r,c]}},Mdr6:function(e,a,t){},T65D:function(e,a,t){},a6mf:function(e,a,t){},"qYX+":function(e,a,t){}}]);