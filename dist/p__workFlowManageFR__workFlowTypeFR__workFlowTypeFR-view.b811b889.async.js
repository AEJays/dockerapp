(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[183],{"97dM":function(e,a,t){"use strict";t.r(a);var l=t("q1tI"),i=t.n(l),n=t("AyJi"),r=t("yNNB");a["default"]=()=>i.a.createElement(n["a"],{namespace:"workFlowTypeFR_view",setting:r,config:r.viewConfig})},AyJi:function(e,a,t){"use strict";var l=t("IIKO"),i=t("SIvP"),n=t("k16G"),r=t("q1tI"),o=t.n(r),c=t("uuO6"),d=(t("Mdr6"),c["Flex"].FlexItem),s=function(e){var a=e.title,t=e.children,l=o.a.Children.toArray(t),i=Object(n["a"])(l,2),r=i[0],s=i[1];return o.a.createElement("div",{className:"c-Card"},o.a.createElement(c["Flex"],{className:"content"},o.a.createElement(d,null,o.a.createElement("div",{className:"title"},a)),o.a.createElement("div",{className:"fill"}),o.a.createElement(d,{flex:1},s)),r)},m=t("G1nR"),p=t("GG5U"),u=t("Pm34"),f=t.n(u),b=t("8Skl"),v=(t("T65D"),c["Flex"].FlexItem);function g(e){var a=e.title,t=e.defaultCollapse,l=void 0!==t&&t,i=e.collapseIcon,d=void 0===i||i,s=e.delayed,m=void 0!==s&&s,p=e.children,u=Object(r["useState"])(l),f=Object(n["a"])(u,2),g=f[0],E=f[1],y=Object(r["useReducer"])(e=>e+1,0),O=Object(n["a"])(y,2),I=O[0],h=O[1],j=Object(r["useRef"])(null),w=Object(r["useRef"])(void 0),A=Object(r["useMemo"])(e=>g?[{height:0,padding:0},{transform:"rotate(180deg)"}]:[{height:w.current,padding:void 0},{transform:void 0}],[g,I]),x=Object(n["a"])(A,2),F=x[0],N=x[1];function P(){g||(w.current=j.current.clientHeight),E(!g)}return Object(r["useEffect"])(e=>{g||setTimeout(e=>{w.current=void 0,h()},200)},[g]),o.a.createElement("div",{className:"ZEleA-Panel"},o.a.createElement(c["Flex"],{className:"ZEleA-Panel-title"},d?o.a.createElement(v,{className:"ZEleA-Panel-icon",onClick:P,style:N},o.a.createElement(b["a"],{type:"down"})):null,o.a.createElement(v,{flex:1},o.a.createElement("div",null,a))),o.a.createElement("div",{className:"ZEleA-Panel-content",ref:j,style:F},m?!g&&p:p))}var E=t("sB9r"),y=t("D4a5"),O=c["Flex"].FlexItem,I=function(e){var a=e.data,t=e.indexData,l=e.operation,i=e.format;return o.a.createElement(c["Flex"],null,a.image?o.a.createElement(O,null,o.a.createElement(E["a"],{width:85,height:100,border:!0,value:a.image})):o.a.createElement(o.a.Fragment,null),o.a.createElement(O,{className:"padding-left",flex:1},o.a.createElement("div",{className:"list"},a.imageTitle?o.a.createElement("div",null,o.a.createElement("span",{className:"weight"},a.imageTitle)):o.a.createElement(o.a.Fragment,null),o.a.createElement(y["Render"],{n:"plain",data:t,options:{format:i},handle:{}}))),o.a.createElement(O,null,o.a.createElement("div",null,l)))},h=t("5zUa"),j=t("Nbnn"),w=t("cIDR"),A=c["Flex"].FlexItem,x=function(e){var a=e.data,t=void 0===a?{}:a,l=e.map,i=void 0===l?{}:l,n=e.namespace,d=e.operation,s=e.format,m=e.handle,p=e.index,u=Object(w["useModel"])(n),f=Object(r["useMemo"])(e=>Array.isArray(d)?Object(j["a"])([],d,m,{namespace:n,model:u}).columns[0].render:e=>null,[d]),b={title:Object(h["formatAPI"])(i.title,{namespace:n,data:t}),subTitle:Object(h["formatAPI"])(i.subTitle,{namespace:n,data:t}),image:Object(h["formatAPI"])(i.image,{namespace:n,data:t}),imageTitle:Object(h["formatAPI"])(i.imageTitle,{namespace:n,data:t})};return o.a.createElement(g,{collapseIcon:!1,title:o.a.createElement(c["Flex"],null,o.a.createElement(A,null,b.title),o.a.createElement(A,{flex:1,className:"padding-left weight-400"},b.subTitle))},o.a.createElement(I,{data:b,indexData:{text:"",record:t,index:p,type:""},format:s,operation:f("",p,t)}))};t("qYX+");function F(e){var a=e.data,t=e.field,l=e.map,i=e.namespace,n=e.api,r=e.operation,c=e.format,d={items:[{component:"ItemList",config:{API:{listAPI:n},fields:[]}}]},s=a&&t?a[t]:void 0;return o.a.createElement("div",{className:"c-ImageCardList"},o.a.createElement(f.a,{namespace:i,config:d,operation:r,format:c,map:l,Item:x,data:s,pagination:!Boolean(s)}))}t("T2oS");var N=t("W9HT"),P=t("lIdm"),T=(t("a6mf"),function(e){var a=e.api,t=e.fieldsMap,l=void 0===t?{}:t,i=e.children,c=Object(r["useState"])([]),d=Object(n["a"])(c,2),s=d[0],m=d[1],p=Object(r["useState"])(!1),u=Object(n["a"])(p,2),f=u[0],b=u[1],v=l.status,g=void 0===v?{}:v,E=g.map,y=void 0===E?{}:E;return Object(r["useEffect"])(e=>{b(!0),Object(P["b"])(Object(h["formatAPI"])(a,{})).then(e=>{m(e)}).finally(e=>b(!1))},[a]),o.a.createElement(N["a"],{spinning:f},o.a.createElement("div",{className:"list Details-statusList"},s.map((e,a)=>o.a.createElement("div",{className:"time",key:a},o.a.createElement("div",{className:"label"},y[e.status]||e.status),o.a.createElement("div",{className:"value"},o.a.createElement("pre",null,e.note))))),i)}),k=(t("XEnU"),t("0al3"),t("45dX"));t("LvDl");function D(e){var a=e.namespace,t=e.API,l=e.col,i=void 0===l?2:l,r=(e.data,e.loading,e.label),c=e.span,d=void 0===c?12:c;console.log("preview data = ",e.data);var s=Object(p["a"])(a,t),m=Object(n["a"])(s,2);m[0],m[1];return o.a.createElement(k["Render"],{n:"Grid",value:Array(i).fill(~~(24/i))},o.a.createElement("div",{key:"preview_file_index",span:d,className:"Details-item"},r?o.a.createElement("div",{className:"Details-labelTitle"},r," :"):null,o.a.createElement("div",null,"TODO \u5bf9\u63a5\u9884\u89c8\u7ec4\u4ef6")))}var G=c["Flex"].FlexItem,R={plain:m["a"],cardList:F,statusLog:T,previewFile:D};a["a"]=function(e){var a=e.namespace,t=e.setting,l=e.config,i=Object(p["a"])(a,t.getAPI),r=Object(n["a"])(i,2),d=r[0],s=r[1],m=l.left,u=void 0===m?[]:m,f=l.right,b=void 0===f?[]:f,v={loading:s,fieldsMap:t.map,col:t.columns,data:d};return o.a.createElement(c["Flex"],{align:"flex-start"},u.length>0?o.a.createElement(G,{flex:1},u.map(e=>q(a,e,v)),o.a.createElement("br",null),o.a.createElement("br",null)):o.a.createElement(o.a.Fragment,null),b.length>0?o.a.createElement(G,{className:"Details-other"},b.map(e=>q(a,e,v))):o.a.createElement(o.a.Fragment,null),Array.isArray(l)&&l.length>0?o.a.createElement(G,{flex:1},l.map(e=>(e.fields=d.layoutJson?d.layoutJson:e.fields,q(a,e,v))),o.a.createElement("br",null),o.a.createElement("br",null)):o.a.createElement(o.a.Fragment,null))};function q(e,a,t){var n=a.title,c=a.type,d=Object(i["a"])(a,["title","type"]),m=R[c];return m?o.a.createElement(r["Fragment"],{key:"".concat(n,"-").concat(c)},o.a.createElement(s,{title:n},o.a.createElement(m,Object(l["a"])({},t,d,{namespace:e})))):"\u672a\u77e5\u7684 view type: ".concat(c)}},G1nR:function(e,a,t){"use strict";t.d(a,"a",(function(){return g}));var l=t("XEnU"),i=t("SIvP"),n=(t("T2oS"),t("W9HT")),r=(t("+L6B"),t("2/Rp")),o=t("k16G"),c=t("q1tI"),d=t.n(c),s=(t("Pm34"),t("Rrod")),m=t.n(s),p=t("GG5U"),u=t("0al3"),f=t("45dX"),b=(t("a6mf"),t("LvDl")),v=t.n(b);function g(e){var a=e.namespace,t=e.API,l=e.col,i=void 0===l?2:l,c=e.fields,s=void 0===c?[]:c,u=e.fieldsMap,b=void 0===u?{}:u,v=e.goBack,g=void 0!==v&&v,y=e.data,O=e.loading,I=Object(p["a"])(a,t),h=Object(o["a"])(I,2),j=h[0],w=h[1],A=y||j;return d.a.createElement(n["a"],{spinning:O||w},g&&m.a.goBack?d.a.createElement(d.a.Fragment,null,d.a.createElement(r["a"],{onClick:m.a.goBack},"\u8fd4\u56de")):null,d.a.createElement(f["Render"],{n:"Grid",value:Array(i).fill(~~(24/i))},s.map((e,a)=>{var t=e.label;return d.a.createElement("div",{key:a,span:e.span,className:"Details-item"},t?d.a.createElement("div",{className:"Details-labelTitle"},t," :"):null,E(A,e,b))})))}function E(e,a,t){var n=a.field,r=a.options,o=Object(i["a"])(a,["field","options"]),c=Object(l["a"])(Object(l["a"])({},r),o);return t&&t[n]&&(c.map=t[n].map),d.a.createElement(u["Render"],{n:"plain",className:"Details-valueContainer",options:c,value:v.a.get(e,n),formdata:e})}},GG5U:function(e,a,t){"use strict";t.d(a,"a",(function(){return n}));var l=t("cIDR"),i=t("1cYI");function n(e,a){var t=Object(l["useModel"])({namespace:e}),n=t.formData,r=void 0===n?{}:n,o=t.loading;function c(){a&&t.fetchOne({API:a})}function d(){}return Object(i["useDidMount"])(c),Object(i["useWillUnmount"])(d),[r,o]}},Mdr6:function(e,a,t){},T65D:function(e,a,t){},a6mf:function(e,a,t){},"qYX+":function(e,a,t){},yNNB:function(e){e.exports=JSON.parse('{"pageName":{"table":"\u6d41\u7a0b\u7c7b\u522b","new":"\u6dfb\u52a0\u6d41\u7a0b\u7c7b\u522b","edit":"\u7f16\u8f91\u6d41\u7a0b\u7c7b\u522b"},"listAPI":"/api/categories/all/tree?identifier=workflow","createAPI":"/api/categories/all/tree?identifier=workflow","getAPI":"/api/categories/all/tree?identifier=workflow/[id]","updateAPI":"/api/categories/all/tree?identifier=workflow/[id]","deleteAPI":"/api/categories/all/tree?identifier=workflow/(id)","columns":1,"createFields":[{"label":"\u7c7b\u522b\u540d\u79f0","rules":[{"type":"required"}],"props":{"placeholder":"\u8bf7\u8f93\u5165"},"type":"input","field":"name"},{"label":"\u7c7b\u522b\u7f16\u7801","rules":[{"type":"required"}],"props":{"placeholder":"\u8bf7\u8f93\u5165"},"type":"input","field":"code"},{"label":"","type":"hidden","field":"identifier"}],"updateFields":[{"label":"\u7c7b\u522b\u540d\u79f0","rules":[{"type":"required"}],"props":{"placeholder":"\u8bf7\u8f93\u5165"},"type":"input","field":"name"},{"label":"\u7c7b\u522b\u7f16\u7801","rules":[{"type":"required"}],"props":{"placeholder":"\u8bf7\u8f93\u5165"},"type":"input","field":"code"},{"label":"","type":"hidden","field":"identifier"}],"map":{},"layout":{"table":"Content","form":"TitleContent"},"tableActions":[{"title":"\u6dfb\u52a0","type":"modal","options":{"style":"primary","modalTitle":"\u6dfb\u52a0\u7c7b\u522b","modalWidth":600,"items":[{"component":"Form","config":{"layout":"Grid","layoutConfig":{"value":[24]},"API":{"createAPI":"/api/categories"},"fields":[{"label":"\u7c7b\u522b\u540d\u79f0","rules":[{"type":"required"}],"props":{"placeholder":"\u8bf7\u8f93\u5165"},"type":"input","field":"name"},{"label":"\u7c7b\u522b\u7f16\u7801","rules":[{"type":"required"}],"props":{"placeholder":"\u8bf7\u8f93\u5165"},"type":"input","field":"code"},{"label":"\u7236\u7c7b\u522b","field":"pid","span":24,"type":"modal-radio","props":{},"rules":[],"options":{"title":"\u9009\u62e9\u7236\u7c7b\u522b","label":"name","editLabel":"name","value":"id","pagination":true,"API":"/api/categories/all/tree?identifier=workflow","fields":[{"label":"\u7c7b\u522b\u540d\u79f0","field":"name","valueType":"ellipsis"},{"label":"\u5907\u6ce8","field":"note","valueType":"ellipsis"}]}},{"label":"\u6392\u5e8f\u53f7","rules":[],"type":"number","field":"sortorder"},{"label":"","type":"hidden","field":"identifier","value":"workflow"}]}}]},"expect":{"permission":""}}],"tableOperation":[{"title":"\u7f16\u8f91","type":"modal","options":{"modalTitle":"\u7f16\u8f91\u7c7b\u522b","modalWidth":600,"outside":true,"items":[{"component":"Form","config":{"layout":"Grid","layoutConfig":{"value":[24]},"API":{"getAPI":"/api/categories/(id)","updateAPI":"/api/categories/(id)"},"fields":[{"label":"\u7c7b\u522b\u540d\u79f0","rules":[{"type":"required"}],"props":{"placeholder":"\u8bf7\u8f93\u5165"},"type":"input","field":"name"},{"label":"\u7c7b\u522b\u7f16\u7801","rules":[{"type":"required"}],"type":"input","field":"code"},{"label":"\u7236\u7c7b\u522b","field":"pid","span":24,"type":"modal-radio","props":{},"rules":[],"options":{"title":"\u9009\u62e9\u7236\u7c7b\u522b","label":"name","editLabel":"pName","value":"id","pagination":true,"API":"/api/categories/all/tree?identifier=workflow","fields":[{"label":"\u7c7b\u522b\u540d\u79f0","field":"name","valueType":"ellipsis"},{"label":"\u5907\u6ce8","field":"note","valueType":"ellipsis"}]}},{"label":"\u6392\u5e8f\u53f7","rules":[],"type":"number","field":"sortorder"},{"label":"","type":"hidden","field":"identifier","value":"workflow"}]}}]},"expect":{"permission":""}},{"title":"\u5220\u9664","type":"delete","options":{"outside":false},"expect":{"permission":""}}],"searchFields":[{"label":"\u7c7b\u522b\u540d\u79f0","field":"name","type":"input","props":{"placeholder":""}},{"label":"\u7c7b\u522b\u7f16\u7801","field":"code","type":"input"}],"tableFields":[{"label":"\u7c7b\u522b\u540d\u79f0","field":"name"},{"label":"\u7c7b\u522b\u7f16\u7801","field":"code"},{"label":"\u6392\u5e8f\u53f7","field":"sortorder"},{"label":"\u5907\u6ce8","width":180,"field":"note"}]}')}}]);